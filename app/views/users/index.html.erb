<h1><%= t('.list_users')%></h1>

<% if @users.blank? %>
  <h3> There are no users to list </h3>
<% else %>
  <table class="table table-responsive">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Niver</th>
        <th>Email</th>
        <th>Papel</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td class="text-muted"><%= user.name %></td>
          <td class="text-muted"><%= user.birth_date %></td>
          <td class="text-muted"><%= user.email %></td>
          <td class="text-muted"><%= user.role %></td>
          <td>
            <%= link_to user_path(user), class: 'btn  btn-sm text-muted', data: { toggle: 'tooltip'}, title: t('.show'), 'data-placement' => 'right' do %>
              <i class="fas fa-eye"></i>
            <% end %>
          </td>
          <td>
            <%= link_to edit_user_path(user), class: 'btn btn-sm text-muted',
              data: { toggle: 'tooltip'}, title: t('.edit'), 'data-placement' => 'right' do %>
              <i class="fas fa-edit"></i>
            <% end %>
          </td>
          <td>
            <%= link_to user, method: :delete, data: { confirm: t('.are_you_sure'), toggle: 'tooltip' }, class: 'btn btn-sm text-muted',
              title: t('.delete'), 'data-placement' => 'right' do %>
              <i class="fas fa-trash-alt"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
<div class="pagination justify-content-center">
  <%= pagy_bootstrap_nav(@pagy).html_safe %>
</div>
<br>

<%= link_to t('.new_user'), new_user_path, { class: "btn btn-primary my-2" } %>
<%= link_to t('.home'), root_path, { class: "btn btn-secondary my-2" } %>
